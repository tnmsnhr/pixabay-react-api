{"ast":null,"code":"var _jsxFileName = \"F:\\\\Reactproject\\\\pixabay_image_finder\\\\src\\\\components\\\\search\\\\Search.js\";\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport axios from 'axios';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Select from '@material-ui/core/Select';\nimport ImageResults from '../image_results/ImageResults';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nexport default class Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchText: 'flower',\n      amount: 15,\n      apiUrl: 'https://pixabay.com/api',\n      apiKey: '7129816-eca694d6cc4ede47255ad861c',\n      images: [],\n      loading: false\n    };\n\n    this.onTextChange = e => {\n      const val = e.target.value;\n      this.setState({\n        loading: true\n      });\n      this.setState(() => ({\n        searchText: val\n      }), () => {\n        if (val === '') {\n          this.setState(state => ({\n            images: []\n          }));\n        } else {\n          axios.get(`${this.state.apiUrl}/?key=${this.state.apiKey}&q=${this.state.searchText}&image_type=photo&per_page=${this.state.amount}&safesearch=true`).then(res => this.setState({\n            images: res.data.hits,\n            loading: false\n          })).catch(err => {\n            console.log(err);\n            this.setState({\n              loading: false\n            });\n          });\n        }\n      });\n      console.log(this.state.searchText);\n      console.log('images from searchjs', this.state.images);\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.onAmountChange = event => {\n      this.setState({\n        amount: event.target.value\n      });\n    };\n  }\n\n  render() {\n    let result = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '500px',\n        margin: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      severity: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AlertTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, \"No Image available\"), \"To see images from Pixabay \\u2014 \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 50\n      }\n    }, \"type something!\")));\n\n    if (this.state.loading) {\n      result = /*#__PURE__*/React.createElement(CircularProgress, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"searchText\",\n      value: this.setState.searchText,\n      onChange: this.onTextChange,\n      floatingLabelText: \"Search for images\",\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '200px',\n        margin: '10px auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      id: \"demo-simple-select-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"Amount\"), /*#__PURE__*/React.createElement(Select, {\n      labelId: \"demo-simple-select-label\",\n      id: \"demo-simple-select\",\n      value: this.state.amount,\n      onChange: this.onAmountChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, \"10\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"15\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 30,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, \"30\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, \"50\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }), this.state.images.length > 0 ? /*#__PURE__*/React.createElement(ImageResults, {\n      images: this.state.images,\n      searchText: this.state.searchText,\n      loading: this.state.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 49\n      }\n    }) : result);\n  }\n\n}","map":{"version":3,"sources":["F:/Reactproject/pixabay_image_finder/src/components/search/Search.js"],"names":["React","Component","TextField","SelectField","MenuItem","FormControl","InputLabel","axios","CircularProgress","Select","ImageResults","Alert","AlertTitle","Search","state","searchText","amount","apiUrl","apiKey","images","loading","onTextChange","e","val","target","value","setState","get","then","res","data","hits","catch","err","console","log","onAmountChange","event","render","result","width","margin","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport TextField from 'material-ui/TextField'\r\nimport SelectField from 'material-ui/SelectField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport axios from 'axios';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Select from '@material-ui/core/Select';\r\nimport ImageResults from '../image_results/ImageResults';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nexport default class Search extends Component {\r\n\r\n    state = {\r\n        searchText:'flower',\r\n        amount:15,\r\n        apiUrl:'https://pixabay.com/api',\r\n        apiKey: '7129816-eca694d6cc4ede47255ad861c',\r\n        images: [],\r\n        loading:false\r\n    }\r\n\r\n    onTextChange = (e)=>{\r\n        const val = e.target.value\r\n        this.setState({loading:true})\r\n        this.setState(()=>({searchText: val}),()=>{\r\n            if(val===''){\r\n                this.setState((state)=>({images:[]}))\r\n            }else {\r\n                axios.get(`${this.state.apiUrl}/?key=${this.state.apiKey}&q=${this.state.searchText}&image_type=photo&per_page=${this.state.amount}&safesearch=true`)\r\n                .then(res=>this.setState({images: res.data.hits, loading: false}))\r\n                .catch(err=>{\r\n                    console.log(err)\r\n                    this.setState({loading:false})\r\n                })\r\n            }\r\n        })\r\n        console.log(this.state.searchText)\r\n        console.log('images from searchjs',this.state.images)\r\n        this.setState({loading:false})\r\n    }\r\n\r\n    onAmountChange = (event)=>{\r\n        this.setState({amount: event.target.value})\r\n    }\r\n\r\n    render() {\r\n        let result=(\r\n            <div style={{width:'500px', margin:'auto'}}>\r\n                <Alert severity=\"info\">\r\n                    <AlertTitle>No Image available</AlertTitle>\r\n                    To see images from Pixabay â€” <strong>type something!</strong>\r\n                </Alert>\r\n            </div>\r\n        )\r\n\r\n        if(this.state.loading){\r\n            result = (\r\n                <CircularProgress />\r\n            )\r\n        }\r\n        return (\r\n            <div>\r\n                <TextField \r\n                    name=\"searchText\"\r\n                    value={this.setState.searchText}\r\n                    onChange={this.onTextChange}\r\n                    floatingLabelText=\"Search for images\"\r\n                    fullWidth={true}\r\n                />\r\n                <div style={{width:'200px', margin:'10px auto'}}>\r\n                    <FormControl style={{width:'100%'}}>\r\n                        <InputLabel id=\"demo-simple-select-label\">Amount</InputLabel>\r\n                        <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={this.state.amount}\r\n                        onChange={this.onAmountChange}\r\n                        >\r\n                        <MenuItem value={5}>5</MenuItem>\r\n                        <MenuItem value={10}>10</MenuItem>\r\n                        <MenuItem value={15}>15</MenuItem>\r\n                        <MenuItem value={30}>30</MenuItem>\r\n                        <MenuItem value={50}>50</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </div>\r\n                <br />\r\n                {this.state.images.length > 0 ? <ImageResults images={this.state.images} searchText={this.state.searchText} loading={this.state.loading}/>:result}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}