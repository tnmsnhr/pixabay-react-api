{"ast":null,"code":"import _classCallCheck from\"F:\\\\Reactproject\\\\pixabay_image_finder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"F:\\\\Reactproject\\\\pixabay_image_finder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"F:\\\\Reactproject\\\\pixabay_image_finder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"F:\\\\Reactproject\\\\pixabay_image_finder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import TextField from'@material-ui/core/TextField';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import InputLabel from'@material-ui/core/InputLabel';import axios from'axios';import CircularProgress from'@material-ui/core/CircularProgress';import Select from'@material-ui/core/Select';import ImageResults from'../image_results/ImageResults';import{Alert,AlertTitle}from'@material-ui/lab';import'./Search.css';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={searchText:'flower',amount:15,apiUrl:'https://pixabay.com/api',apiKey:'7129816-eca694d6cc4ede47255ad861c',images:[],loading:false};_this.onTextChange=function(e){var val=e.target.value;console.log(val);_this.setState({loading:true});_this.setState(function(){return{searchText:val};},function(){if(val===''){_this.setState({images:[],loading:false});}else{axios.get(\"\".concat(_this.state.apiUrl,\"/?key=\").concat(_this.state.apiKey,\"&q=\").concat(_this.state.searchText,\"&image_type=photo&per_page=\").concat(_this.state.amount,\"&safesearch=true\")).then(function(res){return _this.setState({images:res.data.hits,loading:false});}).catch(function(err){console.log(err);_this.setState({loading:false});});}});};_this.onAmountChange=function(event){_this.setState({amount:event.target.value});};return _this;}_createClass(Search,[{key:\"render\",value:function render(){var result=/*#__PURE__*/React.createElement(\"div\",{style:{width:'500px',margin:'auto'}},/*#__PURE__*/React.createElement(Alert,{severity:\"info\"},/*#__PURE__*/React.createElement(AlertTitle,null,\"No Image available\"),\"To see images from Pixabay \\u2014 \",/*#__PURE__*/React.createElement(\"strong\",null,\"type something!\")));if(this.state.loading){result=/*#__PURE__*/React.createElement(\"div\",{style:{width:'200px',margin:'auto','text-align':'center'}},/*#__PURE__*/React.createElement(CircularProgress,null));}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TextField,{name:\"searchText\",value:this.setState.searchText,onChange:this.onTextChange,fullWidth:true,color:\"primary\",label:\"Search Here\",variant:\"outlined\",className:\"searchArea\"}),/*#__PURE__*/React.createElement(\"div\",{style:{width:'200px',margin:'10px auto'}},/*#__PURE__*/React.createElement(FormControl,{style:{width:'100%'}},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-label\"},\"Amount\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:this.state.amount,onChange:this.onAmountChange},/*#__PURE__*/React.createElement(MenuItem,{value:5},\"5\"),/*#__PURE__*/React.createElement(MenuItem,{value:10},\"10\"),/*#__PURE__*/React.createElement(MenuItem,{value:15},\"15\"),/*#__PURE__*/React.createElement(MenuItem,{value:30},\"30\"),/*#__PURE__*/React.createElement(MenuItem,{value:50},\"50\")))),/*#__PURE__*/React.createElement(\"br\",null),this.state.images.length>0?/*#__PURE__*/React.createElement(ImageResults,{images:this.state.images,searchText:this.state.searchText,loading:this.state.loading}):result);}}]);return Search;}(Component);export{Search as default};","map":{"version":3,"sources":["F:/Reactproject/pixabay_image_finder/src/components/search/Search.js"],"names":["React","Component","TextField","MenuItem","FormControl","InputLabel","axios","CircularProgress","Select","ImageResults","Alert","AlertTitle","Search","state","searchText","amount","apiUrl","apiKey","images","loading","onTextChange","e","val","target","value","console","log","setState","get","then","res","data","hits","catch","err","onAmountChange","event","result","width","margin","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport axios from 'axios';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Select from '@material-ui/core/Select';\r\nimport ImageResults from '../image_results/ImageResults';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport './Search.css';\r\n\r\nexport default class Search extends Component {\r\n\r\n    state = {\r\n        searchText:'flower',\r\n        amount:15,\r\n        apiUrl:'https://pixabay.com/api',\r\n        apiKey: '7129816-eca694d6cc4ede47255ad861c',\r\n        images: [],\r\n        loading:false\r\n    }\r\n\r\n    onTextChange = (e)=>{\r\n        const val = e.target.value\r\n        console.log(val)\r\n        this.setState({loading:true})\r\n        this.setState(()=>({searchText: val}),()=>{\r\n            if(val===''){\r\n                this.setState({images:[], loading:false})\r\n            }else {\r\n                axios.get(`${this.state.apiUrl}/?key=${this.state.apiKey}&q=${this.state.searchText}&image_type=photo&per_page=${this.state.amount}&safesearch=true`)\r\n                .then(res=>this.setState({images: res.data.hits, loading: false}))\r\n                .catch(err=>{\r\n                    console.log(err)\r\n                    this.setState({loading:false})\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    onAmountChange = (event)=>{\r\n        this.setState({amount: event.target.value})\r\n    }\r\n\r\n    render() {\r\n        let result=(\r\n            <div style={{width:'500px', margin:'auto'}}>\r\n                <Alert severity=\"info\">\r\n                    <AlertTitle>No Image available</AlertTitle>\r\n                    To see images from Pixabay â€” <strong>type something!</strong>\r\n                </Alert>\r\n            </div>\r\n        )\r\n\r\n        if(this.state.loading){\r\n            result = (\r\n                <div style={{width:'200px',margin:'auto','text-align':'center'}}>\r\n                    <CircularProgress />\r\n                </div>\r\n\r\n            )\r\n        }\r\n        return (\r\n            <div>\r\n                <TextField \r\n                    name=\"searchText\"\r\n                    value={this.setState.searchText}\r\n                    onChange={this.onTextChange}\r\n                    fullWidth={true}\r\n                    color=\"primary\"\r\n                    label=\"Search Here\"\r\n                    variant=\"outlined\"\r\n                    className=\"searchArea\"\r\n                />\r\n                <div style={{width:'200px', margin:'10px auto'}}>\r\n                    <FormControl style={{width:'100%'}}>\r\n                        <InputLabel id=\"demo-simple-select-label\">Amount</InputLabel>\r\n                        <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={this.state.amount}\r\n                        onChange={this.onAmountChange}\r\n                        >\r\n                        <MenuItem value={5}>5</MenuItem>\r\n                        <MenuItem value={10}>10</MenuItem>\r\n                        <MenuItem value={15}>15</MenuItem>\r\n                        <MenuItem value={30}>30</MenuItem>\r\n                        <MenuItem value={50}>50</MenuItem>\r\n                        </Select>\r\n                    </FormControl>\r\n                </div>\r\n                <br />\r\n                {this.state.images.length > 0 ? <ImageResults images={this.state.images} searchText={this.state.searchText} loading={this.state.loading}/>:result}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}